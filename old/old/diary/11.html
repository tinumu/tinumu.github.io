<!DOCTYPE html>
<html>
<head>
<link rel="stylesheet" type="text/css" href="../mainstyle.css">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<script type="text/javascript"
src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS_CHTML">
</script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
tex2jax: {
inlineMath: [['$','$'], ['\\(','\\)']],
processEscapes: true
},
CommonHTML: { matchFontHeight: false }
});
</script>

<title>Diary</title>
</head>
<body>
<h1>JOI2008春合宿Day3-1 Origami</h1>
<h2>概要</h2>
<p>
台紙に折り紙を張っていく。<br>
台紙は横 $acm$ , 縦 $bcm$ の長方形である。<br>
$1cm$ の正方形で座標を区切る。左から $x$ 列目、上から $y$ 行目を $(x, y)$ とする。<br>
折り紙は長方形であり $n$ 枚ある。張る位置は $(p_i, r_i) $から $(q_i, s_i)$ である。<br>
折り紙を張っていったときに最も折り紙が多く重なっている部分が何枚か、そのような部分の合計面積を求めよ。
</p>
<h2>制約</h2>
<ul>
<li>$1 \leq n \leq 5000$</li>
<li>$1 \leq a, b \leq 10^6$</li>
<li>$1 \leq p_i \leq r_i \leq a$</li>
<li>$1 \leq q_i \leq s_i \leq b$</li>
<li>$r_i - p_i &lt 20$</li>
<li>$s_i - q_i &lt 20$</li>

</ul>
<h2>解法</h2>
<p>
最初、 $a$ と $b$ が大きいから、座圧するのかなあって思う。でも、$n$がでかすぎる。
左端右端、上端下端をとる座圧つくろうとするとzip[10005][10005]みたいな配列になる。これはでかすぎる。<br>
考えてみると、$r_i - p_i &lt 20$, $s_i - q_i &lt 20$ という制約に何かありそう。<br>
一つ一つの最大面積は高々 $400cm^2$ 程度、$n$ は最大 $5000$ である。<br>
$400 \times 5000$ は $2000000$ であるため最大 $2000000$ 座標だけしか考えなくてよいのである。<br>
つまり、必要な座標をmap &lt 座標 , 出てきた回数 &gtなどに入れて、ある座標が何回呼び出されたかを持てばよい。<br>
あとは、その座標の中の最大回数呼び出されたやつが何個あるのかをカウントしていけばこの問題は解ける。
</p>
<h2>ソース</h2>
<script src="https://gist.github.com/tinumu/d07f0526857d3aaf91f653bd5c5ea85c.js"></script>
<p>なんかいろんなのを見たら、map &lt int , map &lt int , int &gt &gt みたいのがあって、短いし天才かって思った。</p>
<h2>感想</h2>
<p>
制約をうまく使用することで、実はこれくらいしか~がなくて、計算出来てしまうよみたいなのをできればいいなぁと思った。<br>
座圧するにしてもいろんな座圧があるし、一つ一つ体得していきたい。
</p>
</body>
</html>
