<!DOCTYPE html>
<html>
<head>
<link rel="stylesheet" type="text/css" href="../mainstyle.css">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<script type="text/javascript"
src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS_CHTML">
</script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
tex2jax: {
inlineMath: [['$','$'], ['\\(','\\)']],
processEscapes: true
},
CommonHTML: { matchFontHeight: false }
});
</script>

<title>Diary</title>
</head>
<body>
<h1>JOI2014春合宿Day3-1 JOIOJI</h1>
<h2>概要</h2>
<p>
文字列に含まれる連続する文字列で'J', 'O', 'I'がそれぞれ同じ数ずつ入ったもののうち最長の長さを出力する。
</p>
<h2>制約</h2>
<ul>
<li>$1 \leq N \leq 2 \times 10^5$</li>
</ul>
<h2>解法</h2>
<p>
二分探索？いやこれ、$6$ 文字があったとしても $3$ 文字があることは限らないし...(単調減少でない)<br>
普通にわからなかった。同じくJOI本に参加する部活の仲間の一人に「これ分からないんだけど一緒に考えようぜ。」って言った。<br>
彼は10分で考察を終え、「こうじゃね？」と言った。彼がノートに書き込んだ瞬間、アッこれは！！！！！ってなった。考察ヤバすぎる<br>
ある点 $i(1 \leq i \leq N)$ において $1$ から $i$ までの'J'の数を $J_i$ とする。同様に $O_i$ も  $I_i$ も定義する。<br>
このときある二点 $s, t(1 \leq s \leq t \leq N)$ までの文字列が条件を満たすか考えるとき、<br>
$J_t - O_t = J_{s-1} - O_{s-1}$ かつ $J_t - I_t = J_{s-1} - I_{s-1}$ が満たされていればOKであることがわかる。<br>
これは通常は元の式を移項することで手に入れるが彼は直感でわかったっぽい。ヤバい。<br>
自分も直感的にいうことにするが、「'J'の数との差分が一致している箇所は条件を満たす」ということだ。<br>
差分の数のパターンは $N$ 個しかないので、map &lt pair &lt int, int &gt , int &gt などに現在位置をぶち込んで、一致する場所が出てきたらその際に位置を比較して最大を求めていけばいい(現在位置の値を更新しないように気を付けよう)。<br>
</p>
<h2>ソース</h2>
<script src="https://gist.github.com/tinumu/3cc04d530b50f9133675c2da4c26e6b1.js"></script>
<h2>感想</h2>
<p>問題で式にできそうなところがあれば作ってみてもいいかもしれない。</p>
</body>
</html>
