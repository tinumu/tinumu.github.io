<!DOCTYPE html>
<html>
<head>
<link rel="stylesheet" type="text/css" href="../mainstyle.css">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<script type="text/javascript"
src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS_CHTML">
</script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
tex2jax: {
inlineMath: [['$','$'], ['\\(','\\)']],
processEscapes: true
},
CommonHTML: { matchFontHeight: false }
});
</script>

<title>Diary</title>
</head>
<body>
<h1>JOI2006-2007本選5問目 最軽量のモビール</h1>
<h2>概要</h2>
<p>
<a href="http://judge.u-aizu.ac.jp/onlinejudge/description.jsp?id=0520">このサイトなどを参考に。(AOJ)</a><br>
紐に棒と錘がつるされていて、棒は紐につるされるが棒の真ん中であるとは限らない。<br>
左と右の長さが与えられている。その右と左に新たに紐を吊るすか錘をつけるかとなっている。<br>
左につるされている錘の重さの総計 $\times$ 右の棒の長さ $=$ 右につるされている錘の重さの総計 $\times$ 左の棒の長さとなっていれば均衡を保て、モビールと認められる。<br>
$n$ 個の紐に対して、左右の棒の長さとどの紐を吊るすのか、錘を吊るすのかという情報が与えられるので<br>
そのようなモビールの最軽量なものを出力せよ。
</p>
<h2>制約</h2>
<ul>
<li>$1 \leq n \leq 100$</li>
</ul>
<h2>解法</h2>
<p>
まずモビールは内部に部分的なモビールを持っているので再帰的な構造をしていることはわかる。<br>
モビールについての考察をすると、モビールの重さはどれも最軽量のモビールの重さの倍数になることが分かる。<br>
つまり子モビールを使ってモビールを作るとき、<b>子モビールの重さの倍数を調整して新たに最軽量のモビールを作る</b>という方針が成り立つ。<br>
錘については重さが任意の正整数であるため、これを重さ $1$ のモビールであると見立てられる。<br>
</p>
<p>
モビールを作ってみよう。<br>
子モビール同士の重さと棒の長さがあるので $4$ つ情報が出てくる。<br>
一つの子モビールの重さを $a$ とする。もう一つを $b$ とする。左の棒の長さを $p$,  右の棒の長さを $q$ としよう。<br>
定義に従うと、$apx = bqy$ となるような 整数 $x, y$ を探せばモビールとなることが分かる。<br>
簡単に $x, y$ を見つける方法としては、単純に $x = bq, y = ap$ とすればいいわけである。そうすれば、 $apbq = apbq$ となり等しくなる。<br>
</p>
<p>
ここで本来の目的 $ax + by$ が最小にならなければならない。<br>
$x, y$ は同じ比の値しか出ないので、$ax + by$ が最小になるには$x, y$ ともに最小になればいいということになる。<br>
同じ比の値しか出ないということは、$x, y$ が互いに素になればそれらの値は最小になるということが分かるので、最大公約数で割ればいいということが分かる。<br>
$div = GCD(ap, bq)$ として、$x = \frac{bq}{div}, y = \frac{ap}{div}$ となることが分かった。<br>
後は $ax + by$ を返せばいいというわけだ。<br>
$a$を$div$で直接割らないように気を付けて。<br>
</p>
<h2>ソース</h2>
<script src="https://gist.github.com/tinumu/d9bd76b30a9c88c824845f2116d8afde.js"></script>
<h2>感想</h2>
<p>
こういうややこしい問題は方程式とか立ててやるとうまくいくことが多い。定義は大事。
</p>
</body>
</html>
