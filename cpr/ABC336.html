<!DOCTYPE html>
<html>
    <head>
        <title>tinumuのホームページ</title>
        <link rel=stylesheet type="text/css" href="../style.css">
        <link rel=stylesheet type="text/css" href="cprstyle.css">
		<script type="text/x-mathjax-config">
		MathJax.Hub.Config({ tex2jax: { inlineMath: [['$','$'], ["\\(","\\)"]] } });
		</script>
		<script type="text/javascript"
		src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS_CHTML">
		</script>
		<meta http-equiv="X-UA-Compatible" CONTENT="IE=EmulateIE7" />
    </head>
    <body>
		<h1>ABC336 参加の感想</h1>
		<a href="index.html"> 目次に戻る </a>
		<h2>概要</h2>
		<div class="frame">
			<a href="https://atcoder.jp/contests/abc336">ABC336のリンクですよ！</a>
		</div>
		<div class="frame">
			結果 : ABCDE.. 5 完(27:21 + 5:00)(1WA).<br>
			Perf : <span class="diffblue"> 1949 </span>(<span class="diffblue">1946</span>→<span class="diffblue">1946</span>(+0))
		</div>
		<div class="frame"
		<p>
			いやー、終了後に Twitter を見たら F が半分全列挙って書いてあって、
			あーーーーーってなった。スタートとゴールが決まっている系はできるんだなぁ・・・
			ずっとヒューリスティックに解くことばっかり考えてたせいで、こういう単純な解法を見逃すんだよなぁ。
			まあ、 F で書くか。
		</p>
		</div>
		</div>
		<h2>A - Long Loong</h2>
		<div class="frame">
		<p>
			まあ、言われたとおりにやった。
		</p>
		</div>
		<h2>B - CTZ</h2>
		<div class="frame">
		<p>
			__builtin_ctz() が便利。
		</p>
		</div>
		<h2>C - Even Digits</h2>
		<div class="frame">
		<p>
			$N-1$ を $5$ 進数にして、すべての桁に $2$ をかけたものが答えになる。
		</p>
		<p>
			$0$ が出力できていなくて 1WA を出した。
		</p>
		</div>
		<h2>D - Pyramid</h2>
		<div class="frame">
		<p>
			連続部分列について見る問題。
			左から $1$ からの $1$ ずつ増加する増加列を作ってみて、途中で作れなくなったときは、
			その $i$ を $A_i$ 番目にした増加列として考えられるので、これを左から求めるのと、
			同じように右から求めたものについて min をとってあげるとその位置を真ん中としたピラミッド数列の
			最大の大きさがわかる。
		</p>
		</div>
		<h2>E - Digit Sum Divisible</h2>
		<div class="frame">
		<p>
			なにか作ってみて、割り切れるかどうか系は大体 DP 配列にあまりを入れる系が多い気がする。
			特に、今回は桁和のバリエーションが $126$ 個しか無いのでかなり考えやすい。
			まず桁和の値を決め打ちする。仮に $d$ と置いておく。
			すると、このような DP が可能になる。今回は桁 DP である。
			<div class="empframe">
				$\mathrm{dp}[i][j][m][k]$ ... 大きい桁から $i$ 番目を見ていて、
				現在 $N$ と同じ値をずっと使ってきた場合は $k=0$, そうでない場合を $k=1$ とする。
				このとき、これまでの桁和が $j$ であり、それまでの値を $d$ で割ったあまりを $m$ としたときの
				整数の個数
			</div>
			これを考えると、最終的に桁数を $S$ とか置くと、
			$\mathrm{dp}[S][d][0][0] + \mathrm{dp}[S][d][0][1]$ に答えがでてくることになる。
			計算量は $B$ 進数だとして( 今回は $B=10$ )、 $O((B \log_{B} N)^{4})$ になっているのかな。
		</p>
		</div>
		<h2>F - Rotation Puzzle</h2>
		<div class="frame">
		<p>
			なんでこれが思いつかないんだーという感じ。
			まず $k$ 回操作を行うときの計算量は、同じ操作を行わないことを利用すると、パターン数が $4 \times 3^{k-1}$ になる。
			これに $HW$ がかかってくる感じになる。
			自分はヒューリスティックに枝刈りしようと思ってずっとやっていたが、実は半分全列挙ができる。
		</p>
		<p>
			スタート地点から $10$ 回までの操作をすべて保存しておく。
			そしてゴール地点から $10$ 回のまでの操作をすべて保存しておく。
			そしてその中から、同じ状態のものを見つけてそれの操作回数を求めて min していくだけだった。
		</p>
		<p>
			それぞれの状態の数は最大で $4 \times 3^9 = 78732$ であり、データの数で言えば $HW$ がかかってくるので、
			$5038848$ 個くらいになる。これを map でそこまでたどり着くための最小コストを持ち、
			片方を一つずつ調べていけば解くことができる。
		</p>
		<p>
			かなり危うそうに見えるが通すことができる。
		</p>
		<p>
			アルゴの問題なので、ヒューリスティクスな解法はあんまりないよなぁと思えばよかったが、
			そっち側で考えて実装し始めたら何も考えなくなってしまうくせがある。
			スタートとゴールが与えられたら半分全列挙について考えるのは手癖にしていきたい。
			ちなみに A* を実装していた。md が弱いので通らない。
		</p>
		</div>
		<div class="frame">
		<p>
			分かりづらい図を用意しました。探索範囲が小さくなってるよみたいな図式。
			<div class="frame">
			<img src="../img/RotationPuzzle.jpg">
			</div>
			赤側から距離 10 を超えるもののうち、青側に入ってないものは明らかに見る必要がないため探索範囲が絞られる。
		</p>
		</div>
		<h2>感想</h2>
		<div class="frame">
		<p>
			ABCDE はいい感じだと思う。E は少しテンパって変なコードを書いたがすぐに取り直せたので問題はなかった。
			結果として早解きでパフォーマンスが維持できた。
		</p>
		<p>
			F, いやーこれが思いつかないかという感じだった。ずっと言ってるけどでも本当にそうだと思う。
			でも確かに、パズル系の問題を全探索で解くという場合に逆側から考えるという発想をしたことがなかったので、
			まあ妥当なのかなと思った。
		</p>
		</div>
		(2024/01/14 23:32)
		<h2>追記</h2>
		<div class="frame">
		<p>
			F についてだが、こういう問題だけじゃなくて何か中継地点を見つけながらやっていく系も半分全列挙が使えそう。
			パターンを二次元みたいに考えると、円の重なるところだけを見るような感じで考えるのが良いのかな。
		</p>
		<p>
			まあ半分全列挙と言うよりかは、双方向探索っていうちゃんとしたワードがあるから知ってればできたんだよなぁ。
			Wikipedia を見てみたら、A* との比較で使われているようだから、A* を思いついたらそっちも思いつけると吉かもしれない。
		</p>
		</div>
		(2024/01/15 02:02)
        <hr>
		<a href="index.html"> 目次に戻る </a>
	</body>
</html>
